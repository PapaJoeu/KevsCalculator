/* =============================================
 * Layout & Foundations
 * ---------------------------------------------
 * Base reset, typography, structural utilities,
 * and shell containers shared across the app.
 * ============================================= */
* { box-sizing: border-box; }

html,
body { height: 100%; }

body {
  margin: 0;
  background: var(--color-surface-0);
  color: var(--color-text-primary);
  font-family: var(--font-family-sans);
  font-size: var(--font-md);
  line-height: var(--line-height-base);
}

a { color: var(--color-accent); text-decoration: none; }
a:hover { text-decoration: underline; }

h1,
h2,
h3,
h4 { margin: 0 0 var(--space-2); font-weight: 600; color: var(--color-text-primary); }

h1 { font-size: var(--font-lg); text-align: center; }
h2 { font-size: 1.05rem; color: var(--color-text-secondary); }
h3 { font-size: 0.95rem; color: var(--color-text-secondary); }

p { margin: 0 0 var(--space-3); }

svg { display: block; max-width: 100%; height: auto; }

table { width: 100%; border-collapse: collapse; }

td,
th { padding: var(--space-2) var(--space-3); border-bottom: 1px dashed var(--color-border-muted); text-align: left; }

th { color: var(--color-text-secondary); font-weight: 500; letter-spacing: 0.02em; }

/* ---- Shell containers ---- */
.layout-shell {
  margin: 0 auto;
  min-height: 100vh;
  max-width: var(--layout-max-width);
  padding: var(--space-6) var(--space-5) var(--space-6);
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.layout-header {
  max-width: 720px;
  margin: 0 auto;
}

.layout-header h1 {
  text-align: left;
}

.layout-header .text-muted {
  max-width: 38ch;
}


.layout-panel {
  background: var(--layout-panel-bg, var(--color-surface-1));
  border: 1px solid var(--layout-panel-border, var(--color-border));
  border-radius: var(--layout-panel-radius, var(--radius-lg));
  box-shadow: var(--layout-panel-shadow, 0 8px 28px rgba(0, 0, 0, 0.45));
  padding: var(--layout-panel-padding, var(--space-4));
}

.layout-card {
  background: var(--layout-card-bg, var(--color-surface-1));
  border: 1px solid var(--layout-card-border, var(--color-border-muted));
  border-radius: var(--layout-card-radius, var(--radius-md));
  box-shadow: var(--layout-card-shadow, 0 4px 18px rgba(0, 0, 0, 0.35));
  padding: var(--layout-card-padding, var(--space-4));
}

.layout-panel[data-variant="overlay"],
.layout-card[data-variant="overlay"] {
  background: var(--color-surface-2);
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.5);
}

/* ---- Structural utilities ---- */
.layout-stack {
  display: flex;
  flex-direction: column;
  gap: var(--stack-gap, var(--space-4));
}

.layout-stack[data-gap="tight"] { --stack-gap: var(--space-1); }
.layout-stack[data-gap="snug"] { --stack-gap: var(--space-2); }
.layout-stack[data-gap="cozy"] { --stack-gap: var(--space-3); }
.layout-stack[data-gap="relaxed"] { --stack-gap: var(--space-5); }
.layout-stack[data-gap="spacious"] { --stack-gap: var(--space-6); }

.layout-grid {
  display: grid;
  gap: var(--grid-gap, var(--space-4));
  grid-template-columns: repeat(auto-fit, minmax(var(--grid-min, 240px), 1fr));
}

.layout-grid[data-gap="tight"] { --grid-gap: var(--space-1); }
.layout-grid[data-gap="snug"] { --grid-gap: var(--space-2); }
.layout-grid[data-gap="cozy"] { --grid-gap: var(--space-3); }
.layout-grid[data-gap="relaxed"] { --grid-gap: var(--space-5); }

.layout-grid[data-cols="2"] { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.layout-grid[data-cols="3"] { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.layout-grid[data-cols="auto"] { grid-template-columns: repeat(auto-fit, minmax(var(--grid-min, 220px), 1fr)); }

.layout-grid[data-min="180"] { --grid-min: 180px; }
.layout-grid[data-min="220"] { --grid-min: 220px; }
.layout-grid[data-min="260"] { --grid-min: 260px; }
.layout-grid[data-min="280"] { --grid-min: 280px; }
.layout-grid[data-min="340"] { --grid-min: 340px; }

.layout-cluster {
  display: flex;
  align-items: center;
  gap: var(--cluster-gap, var(--space-3));
  flex-wrap: wrap;
}

.layout-cluster[data-gap="tight"] { --cluster-gap: var(--space-1); }
.layout-cluster[data-gap="snug"] { --cluster-gap: var(--space-2); }
.layout-cluster[data-gap="relaxed"] { --cluster-gap: var(--space-5); }

.layout-cluster[data-align="start"] { justify-content: flex-start; }
.layout-cluster[data-align="center"] { justify-content: center; }
.layout-cluster[data-align="end"] { justify-content: flex-end; }
.layout-cluster[data-align="between"] { justify-content: space-between; }

.layout-scroll { overflow-y: auto; scrollbar-gutter: stable both-edges; }

.layout-sticky {
  position: sticky;
  top: 0;
  z-index: 5;
  background: inherit;
  padding-block: var(--space-2);
  box-shadow: 0 10px 18px rgba(0, 0, 0, 0.45);
}

.layout-divider { border-bottom: 1px solid var(--color-border-muted); margin-block: var(--space-3); }

/* ---- Utilities ---- */
.pad-sm { padding: var(--space-2); }
.pad-md { padding: var(--space-4); }
.pad-lg { padding: var(--space-5); }

.gap-sm { gap: var(--space-2); }
.gap-md { gap: var(--space-3); }
.gap-lg { gap: var(--space-5); }

.radius-sm { border-radius: var(--radius-sm); }
.radius-md { border-radius: var(--radius-md); }
.radius-lg { border-radius: var(--radius-lg); }

.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow-lg { box-shadow: var(--shadow-lg); }

.text-muted { color: var(--color-text-muted); }
.text-secondary { color: var(--color-text-secondary); }
.text-metric { font-variant-numeric: tabular-nums; }

.print-hidden { display: block; }
.print-only { display: none; }

/* ---- Summary layout ---- */
.summary-shell { flex: 1; min-height: 0; }

.summary-grid {
  display: grid;
  gap: var(--space-3);
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.summary-card {
  display: grid;
  gap: var(--space-2);
}

.summary-metrics { display: grid; gap: var(--space-2); }
.summary-metrics > div { display: flex; justify-content: space-between; gap: var(--space-2); }
.summary-metrics dt { margin: 0; color: var(--color-text-secondary); font-weight: 500; }
.summary-metrics dd { margin: 0; font-weight: 600; text-align: right; font-variant-numeric: tabular-nums; }

/* ---- Responsive helpers ---- */
@media (max-width: 960px) {
  .layout-shell { padding-inline: var(--space-4); }
  .layout-grid[data-collapse="md"] { grid-template-columns: 1fr !important; }
  .layout-cluster[data-align="between"] { justify-content: flex-start; }
}

@media (max-width: 720px) {
  body { font-size: 0.95rem; }
  .layout-shell { padding: var(--space-5) var(--space-3); }
  .layout-panel { padding: var(--space-3); }
  .layout-card { padding: var(--space-3); }
  .layout-stack[data-gap="spacious"] { --stack-gap: var(--space-5); }
}
