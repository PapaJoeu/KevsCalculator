/* =============================================
 * Celebration Layers
 * ---------------------------------------------
 * Styles for the imperial freedom animation and
 * the metric alert messaging.
 * ============================================= */

.freedom-eagle {
  position: fixed;
  top: 20vh;
  left: -25vw;
  width: min(28vw, 320px);
  max-width: 40vh;
  height: auto;
  z-index: 9999;
  pointer-events: none;
  filter: drop-shadow(0 14px 18px color-mix(in srgb, var(--color-text-inverse) 55%, transparent));
  animation: freedom-eagle-flight 4s cubic-bezier(0.32, 0.64, 0.45, 1) forwards;
  will-change: transform, opacity;
}

@keyframes freedom-eagle-flight {
  0% {
    transform: translateX(0) translateY(-15vh) scale(0.7) rotate(-6deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  55% {
    transform: translateX(70vw) translateY(5vh) scale(1) rotate(3deg);
    opacity: 1;
  }
  100% {
    transform: translateX(120vw) translateY(-8vh) scale(0.85) rotate(-8deg);
    opacity: 0;
  }
}

.freedom-alert {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -55%) scale(0.98);
  z-index: 9999;
  padding: clamp(18px, 3vw, 32px) clamp(28px, 4vw, 44px);
  border-radius: clamp(24px, 5vw, 48px);
  background: color-mix(in srgb, var(--color-surface-0) 92%, transparent);
  color: var(--color-text-primary);
  display: grid;
  gap: clamp(6px, 1.6vw, 14px);
  justify-items: center;
  text-align: center;
  border: 3px solid color-mix(in srgb, var(--color-text-muted) 30%, transparent);
  box-shadow: 0 20px 45px color-mix(in srgb, var(--color-text-inverse) 45%, transparent);
  pointer-events: none;
  max-inline-size: min(90vw, 560px);
  animation: freedom-alert-fade 5s ease-in-out forwards;
}

.freedom-alert__headline {
  font-size: clamp(1.6rem, 3.5vw + 1rem, 3rem);
  font-weight: 800;
  letter-spacing: 0.14em;
  text-transform: uppercase;
}

.freedom-alert__detail {
  font-size: clamp(1.05rem, 1.6vw + 0.8rem, 1.75rem);
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: color-mix(in srgb, var(--color-text-primary) 80%, var(--color-text-muted) 20%);
}

.freedom-confetti {
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 9998;
}

.freedom-confetti__piece {
  position: absolute;
  top: -10vh;
  inline-size: 12px;
  block-size: 18px;
  border-radius: 4px;
  background: var(--confetti-color, #ffffff);
  transform: translate3d(var(--confetti-x-start, 0), -10vh, 0) rotate(0deg) scale(var(--confetti-scale, 1));
  animation: freedom-confetti-fall var(--confetti-duration, 4s) ease-in forwards;
  animation-delay: var(--confetti-delay, 0s);
  opacity: 0.9;
}

.freedom-confetti__piece::after {
  content: '';
  position: absolute;
  inset: 0;
  background: inherit;
  transform: rotate(45deg);
  opacity: 0.35;
}

@keyframes freedom-confetti-fall {
  0% {
    transform: translate3d(var(--confetti-x-start, 0), -12vh, 0) rotate(0deg) scale(var(--confetti-scale, 1));
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  100% {
    transform: translate3d(var(--confetti-x-end, 0), 110vh, 0)
      rotate(var(--confetti-rotation, 540deg))
      scale(var(--confetti-scale, 1));
    opacity: 0;
  }
}

@keyframes freedom-alert-fade {
  0% {
    opacity: 0;
    transform: translate(-50%, -65%) scale(0.92);
  }
  18% {
    opacity: 1;
    transform: translate(-50%, -55%) scale(1);
  }
  85% {
    opacity: 1;
    transform: translate(-50%, -55%) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -45%) scale(0.96);
  }
}
