<!--
  Load timing:
    - Cloned into #tab-print by docs/js/tabs/registry.hydrateTabPanel('print').
  Key selectors:
    - #printPreviewStage hosts the generated 1:1 SVG preview.
    - .print-layer-toggle checkboxes control layer visibility in the export.
    - #printDownloadSvg and #printOpenPrintDialog trigger export actions.
  JS dependencies:
    - docs/js/tabs/print.js manages rendering and export of the actual-size visualizer.
-->

<template id="tab-print-template">
  <div class="layout-stack" data-gap="spacious">
    <div class="layout-grid" data-gap="relaxed" data-cols="auto" data-min="340">
      <section class="layout-card layout-stack" data-gap="relaxed">
        <header class="layout-stack" data-gap="snug">
          <h3>Printable Visualizer</h3>
          <p class="text-muted">
            Export an accurate 1:1 version of the sheet visualizer. Choose the layers you want, download SVGs, or create a combined PDF package to share or archive.
          </p>
        </header>

        <dl class="print-summary">
          <div>
            <dt>Sheet</dt>
            <dd id="printSheetSummary">—</dd>
          </div>
          <div>
            <dt>Document</dt>
            <dd id="printDocumentSummary">—</dd>
          </div>
          <div>
            <dt>Counts</dt>
            <dd id="printCountsSummary">—</dd>
          </div>
          <div>
            <dt>Gutter</dt>
            <dd id="printGutterSummary">—</dd>
          </div>
          <div>
            <dt>Margins</dt>
            <dd id="printMarginSummary">—</dd>
          </div>
        </dl>

        <fieldset class="layout-card layout-stack" data-gap="snug">
          <legend>Include layers</legend>
          <div class="layout-grid" data-gap="snug" data-cols="auto" data-min="180">
            <label class="form-choice">
              <input type="checkbox" class="form-choice__control print-layer-toggle" data-layer="sheet" checked />
              <span class="form-choice__label">Sheet outline</span>
            </label>
            <label class="form-choice">
              <input type="checkbox" class="form-choice__control print-layer-toggle" data-layer="nonPrintable" checked />
              <span class="form-choice__label">Non-printable &amp; printable border</span>
            </label>
            <label class="form-choice">
              <input type="checkbox" class="form-choice__control print-layer-toggle" data-layer="layout" checked />
              <span class="form-choice__label">Layout area</span>
            </label>
            <label class="form-choice">
              <input type="checkbox" class="form-choice__control print-layer-toggle" data-layer="docs" checked />
              <span class="form-choice__label">Documents</span>
            </label>
            <label class="form-choice">
              <input type="checkbox" class="form-choice__control print-layer-toggle" data-layer="cuts" checked />
              <span class="form-choice__label">Cuts</span>
            </label>
            <label class="form-choice">
              <input type="checkbox" class="form-choice__control print-layer-toggle" data-layer="slits" checked />
              <span class="form-choice__label">Slits</span>
            </label>
            <label class="form-choice">
              <input type="checkbox" class="form-choice__control print-layer-toggle" data-layer="scores" checked />
              <span class="form-choice__label">Scores</span>
            </label>
            <label class="form-choice">
              <input type="checkbox" class="form-choice__control print-layer-toggle" data-layer="perforations" checked />
              <span class="form-choice__label">Perforations</span>
            </label>
            <label class="form-choice">
              <input type="checkbox" class="form-choice__control print-layer-toggle" data-layer="holes" checked />
              <span class="form-choice__label">Holes</span>
            </label>
          </div>
        </fieldset>

        <div class="layout-stack" data-gap="snug">
          <div class="layout-cluster" data-gap="snug">
            <button type="button" class="btn btn-primary" id="printDownloadPdf" disabled>Export 2-page PDF</button>
            <button type="button" class="btn" id="printOpenPrintDialog" disabled>Open print dialog</button>
          </div>
          <div class="layout-cluster" data-gap="snug">
            <button type="button" class="btn" id="printDownloadSvg" disabled>Download layout SVG</button>
            <button type="button" class="btn" id="printDownloadLayoutDetails" disabled>Download layout details SVG</button>
          </div>
          <p class="text-muted">
            The PDF includes the visualizer and the detailed program sheet on separate pages sized to the selected sheet.
          </p>
        </div>
      </section>

      <section class="layout-card layout-stack" data-gap="snug">
        <div class="layout-card print-stage viz-theme" id="printPreviewStage" aria-live="polite">
          <div class="layout-stack" data-gap="snug">
            <p>The printable visualizer is ready once a layout is calculated.</p>
            <p>Adjust inputs on the other tabs, then return here to export.</p>
          </div>
        </div>
        <p class="text-muted">
          The preview uses physical measurements (<code>in</code>/<code>mm</code>) so it may be larger than the screen. Use your browser zoom controls to inspect details, but exported files always stay at 100% scale.
        </p>
      </section>
    </div>
  </div>
</template>
