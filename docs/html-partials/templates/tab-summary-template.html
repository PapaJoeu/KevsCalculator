<!--
  Load timing:
    - Cloned into #tab-summary by docs/js/tabs/registry.hydrateTabPanel('summary') after templates load during bootstrap.
  Key selectors:
    - Metrics spans (#vAcross, #vDown, #vTotal, #vLayout, #vOrigin, #vRealMargins, #vUsed, #vTrail).
  JS dependencies:
    - docs/js/tabs/summary.js writes calculated metrics into the spans on activation/registration.
    - docs/js/app.js feeds formatted measurement strings used by the summary module for display updates.
-->

<template id="tab-summary-template">
  <div class="summary-grid">
    <article class="layout-card summary-card">
      <h3>Counts</h3>
      <dl class="summary-metrics">
        <div>
          <dt>Across</dt>
          <dd class="text-metric" id="vAcross">—</dd>
        </div>
        <div>
          <dt>Down</dt>
          <dd class="text-metric" id="vDown">—</dd>
        </div>
        <div>
          <dt>Total</dt>
          <dd class="text-metric" id="vTotal">—</dd>
        </div>
      </dl>
    </article>
    <article class="layout-card summary-card">
      <h3>Layout Area</h3>
      <dl class="summary-metrics">
        <div>
          <dt>W × H</dt>
          <dd class="text-metric" id="vLayout">—</dd>
        </div>
        <div>
          <dt>Origin</dt>
          <dd class="text-metric" id="vOrigin">—</dd>
        </div>
        <div>
          <dt>Realized Margins</dt>
          <dd class="text-metric" id="vRealMargins">—</dd>
        </div>
      </dl>
    </article>
    <article class="layout-card summary-card">
      <h3>Utilization</h3>
      <dl class="summary-metrics">
        <div>
          <dt>Used W/H</dt>
          <dd class="text-metric" id="vUsed">—</dd>
        </div>
        <div>
          <dt>Trailing W/H</dt>
          <dd class="text-metric" id="vTrail">—</dd>
        </div>
      </dl>
    </article>
  </div>

  <section class="layout-stack" data-gap="relaxed" aria-label="Production calculators">
    <div class="layout-grid" data-gap="relaxed" data-cols="auto" data-min="280">
      <article class="layout-card layout-stack summary-calculator" data-gap="snug" data-calculator="pad">
        <header class="layout-stack" data-gap="snug">
          <h3>Pad Calculator</h3>
          <p class="text-muted">Work out how many press sheets you need to build padded sets.</p>
        </header>
        <form class="summary-calculator__form layout-stack" data-gap="snug" autocomplete="off">
          <label class="form-label summary-calculator__field">
            <span>Number of pads</span>
            <input class="form-control" type="number" inputmode="numeric" min="0" step="1" id="padCount" placeholder="0" />
          </label>
          <label class="form-label summary-calculator__field">
            <span>Sheets per pad</span>
            <input class="form-control" type="number" inputmode="numeric" min="1" step="1" id="padSheets" value="50" />
            <span class="text-muted summary-calculator__hint">Defaulted to 50 finished sheets per pad.</span>
          </label>
          <label class="form-label summary-calculator__field">
            <span>N-up (per press sheet)</span>
            <input class="form-control" type="number" inputmode="numeric" min="1" step="1" id="padNUp" />
            <span class="text-muted summary-calculator__hint">Auto-fills from the current layout.</span>
          </label>
        </form>
        <dl class="summary-calculator__results summary-metrics" aria-live="polite">
          <div>
            <dt>Finished pieces</dt>
            <dd class="text-metric" id="padTotalPieces">—</dd>
          </div>
          <div>
            <dt>Press sheets to print</dt>
            <dd class="text-metric" id="padTotalSheets">—</dd>
          </div>
          <div>
            <dt>Overage after padding</dt>
            <dd class="text-metric" id="padRemainder">—</dd>
          </div>
        </dl>
      </article>

      <article class="layout-card layout-stack summary-calculator" data-gap="snug" data-calculator="run">
        <header class="layout-stack" data-gap="snug">
          <h3>Target Quantity Planner</h3>
          <p class="text-muted">Start from a desired finished quantity and include spoilage/overs.</p>
        </header>
        <form class="summary-calculator__form layout-stack" data-gap="snug" autocomplete="off">
          <label class="form-label summary-calculator__field">
            <span>Desired finished pieces</span>
            <input class="form-control" type="number" inputmode="numeric" min="0" step="1" id="runDesired" placeholder="0" />
          </label>
          <label class="form-label summary-calculator__field">
            <span>N-up (per press sheet)</span>
            <input class="form-control" type="number" inputmode="numeric" min="1" step="1" id="runNUp" />
            <span class="text-muted summary-calculator__hint">Auto-fills from the current layout.</span>
          </label>
          <label class="form-label summary-calculator__field">
            <span>Spoilage / overs (%)</span>
            <input class="form-control" type="number" inputmode="decimal" min="0" step="0.1" id="runOvers" value="0" />
          </label>
        </form>
        <dl class="summary-calculator__results summary-metrics" aria-live="polite">
          <div>
            <dt>Finished pieces with overs</dt>
            <dd class="text-metric" id="runTotalPieces">—</dd>
          </div>
          <div>
            <dt>Press sheets to print</dt>
            <dd class="text-metric" id="runTotalSheets">—</dd>
          </div>
          <div>
            <dt>Overs (pieces / sheets)</dt>
            <dd class="text-metric" id="runOversBreakdown">—</dd>
          </div>
        </dl>
      </article>

      <article class="layout-card layout-stack summary-calculator" data-gap="snug" data-calculator="sheets">
        <header class="layout-stack" data-gap="snug">
          <h3>Sheets to Pads Converter</h3>
          <p class="text-muted">Translate a press run into finished pieces and pad counts.</p>
        </header>
        <form class="summary-calculator__form layout-stack" data-gap="snug" autocomplete="off">
          <label class="form-label summary-calculator__field">
            <span>Press sheets to run</span>
            <input class="form-control" type="number" inputmode="numeric" min="0" step="1" id="sheetRun" placeholder="0" />
          </label>
          <label class="form-label summary-calculator__field">
            <span>N-up (per press sheet)</span>
            <input class="form-control" type="number" inputmode="numeric" min="1" step="1" id="sheetNUp" />
            <span class="text-muted summary-calculator__hint">Auto-fills from the current layout.</span>
          </label>
          <label class="form-label summary-calculator__field">
            <span>Finished pieces per pad</span>
            <input class="form-control" type="number" inputmode="numeric" min="1" step="1" id="sheetPerPad" value="50" />
          </label>
        </form>
        <dl class="summary-calculator__results summary-metrics" aria-live="polite">
          <div>
            <dt>Total finished pieces</dt>
            <dd class="text-metric" id="sheetTotalPieces">—</dd>
          </div>
          <div>
            <dt>Complete pads</dt>
            <dd class="text-metric" id="sheetTotalPads">—</dd>
          </div>
          <div>
            <dt>Leftover pieces</dt>
            <dd class="text-metric" id="sheetPadRemainder">—</dd>
          </div>
        </dl>
      </article>
    </div>
  </section>
</template>
